<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vue.js-Index.html</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div id="app">
  <gaugecomponent></gaugecomponent>
</div>
<!--script src="/lib/vue-echarts.js"></script>   v4.01 -->
<script src="https://unpkg.com/vue"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="/lib/vue-echarts.js"></script>

<script>
Vue.component('gaugecomponent', {
  props: { organiser: {type: Object} },
  template: `
  <div>
    <div class="col-md-6 my-2">
      <div class="panel panel-info">
        <div class="panel-heading">eChart2:latest prices</div>
        <div class="panel-body">        
          <vchart :options="bar"></vchart> 
        </div>
      </div>
    </div>
    </div>
  `,
  data () {
    return {  
      bar: {
        legend: {
          orient: 'horizontal', // 'vertical'
          x: 'right', // 'center' | 'left' | {number},
          y: 'top', // 'center' | 'bottom' | {number}
          backgroundColor: '#eee',
          borderColor: 'rgba(178,34,34,0.8)',
          borderWidth: 4,
          padding: 10,    // [5, 10, 15, 20]
          itemGap: 20,
          textStyle: {color: 'red'},
          selected: {
            '降水量' : false
          },
        },        
        title: { text: 'Game Summary' },
        tooltip: { trigger: 'axis', axisPointer: {type: 'shadow'} },
        calculable : true,
        xAxis:  [ { type: 'category',  data: ['NBA Week 7', 'NBA Week8']  }],
        yAxis: [ {
          type: 'value', 
          name: 'Counts',
          nameLocation: 'middle',
          nameGap: 40
        }],
        grid: { right: '17%' },
        series: [ 
          { name: 'Game',  type: 'bar', data: [ 10, 20 ] },
          { name: 'Pool',  type: 'bar', data: [ 30, 60 ] }
        ]
      },
    }
  },
  methods: {  
    refreshData () { 
      this.bar.series=[];
      this.bar.series.push({ name: "game", type: 'bar', data: [20, 40], yAxisIndex: 0 });
      this.bar.series.push({ name: "pool", type: 'bar', data: [30, 60], yAxisIndex: 0 });
      //this.bar.series[0].data[0] = 30; 
      //this.bar.series[0].data[1] = 50; 
    }
  },
  mounted () {
    this.refreshData();             // automatic refresh every 3 secs
//    setInterval(function () {
//      this.refreshData();
//      }.bind(this), 3000); 
   
  }
});
Vue.component('vchart', VueECharts);  // register to use (global variable)
new Vue({
  el: '#app',
  data: {}
});
 </script>
</body>
</html>